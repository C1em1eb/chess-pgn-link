<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chess PGN Link</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="popup-container">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <svg viewBox="0 0 50 50" width="28" height="28">
          <path fill="currentColor" d="M25 5c-2.5 0-4.5 2-4.5 4.5 0 1.2.5 2.3 1.2 3.1l-9.5 19c-.4-.1-.8-.1-1.2-.1-2.5 0-4.5 2-4.5 4.5s2 4.5 4.5 4.5c2 0 3.8-1.3 4.4-3.2h17.2c.6 1.9 2.4 3.2 4.4 3.2 2.5 0 4.5-2 4.5-4.5s-2-4.5-4.5-4.5c-.4 0-.8 0-1.2.1l-9.5-19c.7-.8 1.2-1.9 1.2-3.1 0-2.5-2-4.5-4.5-4.5z"/>
        </svg>
        <h1>Chess PGN Link</h1>
      </div>
      <p class="tagline">Export your games to Lichess</p>
    </header>

    <!-- Instructions -->
    <section class="instructions">
      <h2>How to use</h2>
      <ol>
        <li>Finish a game on <strong>Chess.com</strong></li>
        <li>Click the <strong>"Analyze on Lichess"</strong> button</li>
        <li>Analysis opens automatically!</li>
      </ol>
    </section>

    <!-- History -->
    <section class="history-section">
      <div class="history-header">
        <h2>Game History</h2>
        <button id="clearHistory" class="btn-clear" title="Clear history">
          <svg viewBox="0 0 24 24" width="16" height="16">
            <path fill="currentColor" d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
          </svg>
        </button>
      </div>

      <div id="historyList" class="history-list">
        <div class="loading">Loading...</div>
      </div>

      <div id="emptyState" class="empty-state hidden">
        <svg viewBox="0 0 24 24" width="48" height="48">
          <path fill="currentColor" d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-7-2h2v-4h4v-2h-4V7h-2v4H8v2h4z" opacity="0.3"/>
        </svg>
        <p>No exported games</p>
        <span>Games you export will appear here</span>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <a href="https://lichess.org" target="_blank" class="footer-link">
        Lichess.org
      </a>
      <span class="separator">•</span>
      <a href="https://chess.com" target="_blank" class="footer-link">
        Chess.com
      </a>
      <span class="separator">•</span>
      <a href="https://github.com/C1em1eb/chess-pgn-link" target="_blank" class="footer-link">
        GitHub
      </a>
      <div class="copyright">
        © 2025 C1em1eb
      </div>
    </footer>
  </div>

  <!-- Template for history items -->
  <template id="historyItemTemplate">
    <div class="history-item">
      <div class="game-info">
        <div class="players">
          <span class="white-player"></span>
          <span class="vs">vs</span>
          <span class="black-player"></span>
        </div>
        <div class="game-meta">
          <span class="result"></span>
          <span class="date"></span>
        </div>
      </div>
      <div class="game-actions">
        <button class="btn-action btn-analyse" title="Analyze on Lichess">
          <svg viewBox="0 0 24 24" width="18" height="18">
            <path fill="currentColor" d="M19 19H5V5h7V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/>
          </svg>
        </button>
        <button class="btn-action btn-copy" title="Copy PGN">
          <svg viewBox="0 0 24 24" width="18" height="18">
            <path fill="currentColor" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
          </svg>
        </button>
        <button class="btn-action btn-delete" title="Delete">
          <svg viewBox="0 0 24 24" width="18" height="18">
            <path fill="currentColor" d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
          </svg>
        </button>
      </div>
    </div>
  </template>

  <script src="popup.js"></script>
</body>
</html>
